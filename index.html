<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ãƒãƒ«ãƒ¢ãƒ³å ã„</title>

<!-- ğŸŒ¸ ã‚µãƒ³ãƒªã‚ªé¢¨ãƒ‡ã‚¶ã‚¤ãƒ³CSS -->
<style>
body {
  background: linear-gradient(180deg, #ffe9f4 0%, #f3f7ff 100%);
  font-family: "Nunito", "Rounded Mplus 1c", "Hiragino Maru Gothic ProN", sans-serif;
  color: #555;
  text-align: center;
  margin: 0;
  padding: 0;
}

header {
    background-color: #d4f4dd; /* è–„ã„ç·‘ */
  color: #4B0082; /* æ¿ƒã„ç´« */
  padding: 1.5em 0;
  box-shadow: 0 2px 5px rgba(150, 255, 150, 0.2);
}

h1 {
  color: #FF1493; /* æ¿ƒã„ãƒ”ãƒ³ã‚¯å¯„ã‚Š */
  font-size: 3em;
  margin-bottom: 0.1em;
}

h2 {
  color: #ff7fbf;
  margin-top: 1em;
}

section {
  background-color: #fff;
  margin: 2em auto;
  padding: 2em;
  border-radius: 16px;
  box-shadow: 0 3px 10px rgba(0,0,0,0.05);
  max-width: 500px;
}

button {
  background-color: #ffb6c1;
  color: #fff;
  border: none;
  padding: 0.8em 1.5em;
  font-size: 1em;
  border-radius: 25px;
  cursor: pointer;
  margin-top: 1em;
  transition: 0.2s;
}

button:hover {
  background-color: #ff99b6;
}

img {
  margin-top: 1em;
  border-radius: 12px;
}

footer {
  color: #aaa;
  font-size: 1.2em;
  margin-bottom: 2em;
}
</style>
</head>

<body>
<header>
  <h1> ãƒãƒ«ãƒ¢ãƒ³å ã„ </h1>
  <p>ã‚ãªãŸã®äººç”Ÿã«å½¹ç«‹ã¤ãƒ’ãƒ³ãƒˆã‚’ãŠå±Šã‘ï¼</p>
</header>

<section>
  <h2>â­ï¸ç”Ÿå¹´æœˆæ—¥ã‚’å…¥åŠ›ã—ã¦ã­â­ï¸</h2>
  <input type="date" id="birthday">
  <br>
  <button onclick="analyze()">å ã†ï¼</button>

  <div id="result"></div>
</section>

<footer> marumon uranai</footer>

<!-- âœ¨ å ã„ãƒ­ã‚¸ãƒƒã‚¯ -->
<script>
const marumon = {
    1: { name: "ãƒªã‚ªãƒ³", animal: "ğŸ¦", img: "1.png" },
  2: { name: "ãƒŸãƒ¼ãƒŸ", animal: "ğŸ°", img: "2.png" },
  3: { name: "ãƒ”ã‚³", animal: "ğŸ¦", img: "3.png" },
  4: { name: "ãƒãƒ«", animal: "ğŸ¦«", img: "4.png" },
  5: { name: "ãƒãƒ­ã‚¹", animal: "ğŸ¦Š", img: "5.png" },
  6: { name: "ã‚¹ãƒ¯ãƒªãƒ³", animal: "ğŸ¦¢", img: "6.png" },
  7: { name: "ã‚¿ãƒ«ãƒ¼ã‚·ãƒ£", animal: "ğŸ¢", img: "7.png" },
  8: { name: "ãã¾ãƒ‰ãƒ³", animal: "ğŸ»", img: "8.png" },
  9: { name: "ãƒãƒƒãƒˆ", animal: "ğŸ•Š", img: "9.png" },
  11: { name: "ã‚·ãƒ­ãƒ¼", animal: "ğŸ¶", img: "11.png" },
  22: { name: "ãƒ€ã‚¤ãƒˆ", animal: "ğŸ˜", img: "22.png" },
  33: { name: "ãƒ›ãƒ¼ã™ã‘", animal: "ğŸ¦‰", img: "33.png" }
};

// ãƒ©ã‚¤ãƒ•ãƒ‘ã‚¹ãƒŠãƒ³ãƒãƒ¼ã‚’ç®—å‡º
function getLifePathNumber(birthday) {
  const nums = birthday.replaceAll('-', '').split('').map(Number);
  let sum = nums.reduce((a,b) => a+b, 0);
  while (sum > 9 && sum !== 11 && sum !== 22 && sum !== 33) {
    sum = String(sum).split('').reduce((a,b) => a + Number(b), 0);
  }
  return sum;
}

// ãƒ¦ãƒªã‚¦ã‚¹æ—¥ã‚’æ±‚ã‚ã‚‹
function getJulianDay(year, month, day) {
  if (month <= 2) { year -= 1; month += 12; }
  const A = Math.floor(year / 100);
  const B = 2 - A + Math.floor(A / 4);
  return Math.floor(365.25 * (year + 4716))
       + Math.floor(30.6001 * (month + 1))
       + day + B - 1524.5;
}

// åå¹²ï¼ˆæ—¥æŸ±ï¼‰ã‚’ç°¡æ˜“è¨ˆç®—
const tenkan = ["å¤§æœ¨","èŠ±","ç‚","ã‚­ãƒ£ãƒ³ãƒ‰ãƒ«","å±±","åœŸ","æ–§","å®çŸ³","å·","é›¨"];

function getDayStem(year, month, day) {
  const jd = Math.floor(getJulianDay(year, month, day) + 0.5);
  const baseJD = 2415021; // åŸºæº–æ—¥
  const diff = jd - baseJD;
  const stemIndex = (diff + 10) % 10;
  return tenkan[stemIndex];
}

// çµæœè¡¨ç¤º
function analyze() {
  const birth = document.getElementById("birthday").value;
  if (!birth) return alert("ç”Ÿå¹´æœˆæ—¥ã‚’å…¥åŠ›ã—ã¦ã­ï¼");
  const [y, m, d] = birth.split('-').map(Number);

  const num = getLifePathNumber(birth);
  const stem = getDayStem(y, m, d);
  const result = marumon[num] || marumon[9];

  document.getElementById("result").innerHTML = `
    <h2>${result.animal} ${result.name}</h2>
    <img src="images/${result.img}" alt="${result.name}" width="180">
    <p>å±æ€§ï¼š<strong>${stem}</strong></p>
  `;
}
</script>
</body>
</html>
